{"version":3,"file":"video.d6b9bfb233d482bd16b6.js","mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,cAAc,EAAE,GAAG,cAAc,GAAG;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,cAAc,EAAE,GAAG,cAAc,GAAG;AAClG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,4DAA4D,cAAc,EAAE,GAAG,cAAc,GAAG;AAChG;AACA;AACA;AACA;AACA,sBAAsB,GAAG,GAAG,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,mBAAmB,EAAE,mBAAmB;AACxD,gBAAgB,mBAAmB,EAAE,mBAAmB;AACxD;AACA;AACA","sources":["webpack://portfolio/./src/scripts/video.js"],"sourcesContent":["const player = document.querySelector('.player');\r\nconst video = player.querySelector('.player__video');\r\n\r\nconst colorPrimary = '#bdae82';\r\n\r\n// timer\r\nconst currentTime = player.querySelector('.currenttime');\r\nconst duration = player.querySelector('.duration');\r\nvideo.onloadedmetadata = () => {\r\n  updateTimerText(duration, video.duration);\r\n  updateTimerText(currentTime, video.currentTime);\r\n};\r\n\r\n// controls video\r\nconst videoMainBtn = player.querySelector('.button-play__main');\r\nconst playBtn = player.querySelector('.button-play');\r\nconst progressBar = player.querySelector('.player__progress');\r\n\r\nvideoMainBtn.addEventListener('click', togglePlay);\r\nplayBtn.addEventListener('click', togglePlay);\r\n\r\nvideo.addEventListener('timeupdate', updateTime);\r\nvideo.addEventListener('ended', stopVideo);\r\nprogressBar.oninput = (e) => {\r\n  updateProgress(e.target.value);\r\n};\r\n\r\nfunction togglePlay() {\r\n  if (video.paused || video.ended) {\r\n    startVideo();\r\n  } else {\r\n    stopVideo();\r\n  }\r\n}\r\n\r\nfunction startVideo() {\r\n  player.classList.add('active');\r\n  video.play();\r\n}\r\n\r\nfunction stopVideo() {\r\n  player.classList.remove('active');\r\n  video.pause();\r\n}\r\n\r\nfunction updateTime() {\r\n  const progress = video.currentTime / video.duration;\r\n  progressBar.value = progress;\r\n\r\n  const pc = Math.floor(progress * 1000) / 10 + '%';\r\n  progressBar.style.background = `linear-gradient(to right, ${colorPrimary} ${pc}, #ffffff4d ${pc})`;\r\n  updateTimerText(currentTime, video.currentTime);\r\n}\r\n\r\nfunction updateProgress(v) {\r\n  video.currentTime = v * video.duration;\r\n  progressBar.value = v;\r\n\r\n  const pc = v * 100 + '%';\r\n  progressBar.style.background = `linear-gradient(to right, ${colorPrimary} ${pc}, #ffffff4d ${pc})`;\r\n  updateTimerText(currentTime, video.currentTime);\r\n}\r\n\r\n// controls audio\r\nvideo.volume = 0.5;\r\nlet volumeSaved = 50;\r\n\r\nconst volumeBtn = player.querySelector('.button-volume');\r\nconst volumeBar = player.querySelector('.player__volume');\r\n\r\nvolumeBtn.addEventListener('click', toggleVolume);\r\nvolumeBar.oninput = (e) => {\r\n  updateVol(e.target.value);\r\n};\r\n\r\nfunction toggleVolume() {\r\n  if (video.volume > 0) {\r\n    volumeSaved = video.volume;\r\n    updateVol(0);\r\n  } else {\r\n    updateVol(volumeSaved);\r\n  }\r\n}\r\n\r\nfunction updateVol(v) {\r\n  if (v > 0) {\r\n    volumeBtn.classList.remove('muted');\r\n  } else {\r\n    volumeBtn.classList.add('muted');\r\n  }\r\n  video.volume = v;\r\n  volumeBar.value = v;\r\n\r\n  const pc = v * 100 + '%';\r\n  volumeBar.style.background = `linear-gradient(to right, ${colorPrimary} ${pc}, #ffffff4d ${pc})`;\r\n}\r\n\r\nfunction updateTimerText(el, timer) {\r\n  const [mD, sD] = convertTimer(Math.floor(timer));\r\n  el.textContent = `${mD}:${sD}`;\r\n}\r\n\r\nfunction convertTimer(timer) {\r\n  const m = Math.floor(timer / 60);\r\n  const s = timer - m * 60;\r\n\r\n  const _m = `${Math.floor(m / 10)}${Math.floor(m % 10)}`;\r\n  const _s = `${Math.floor(s / 10)}${Math.floor(s % 10)}`;\r\n\r\n  return [_m, _s];\r\n}\r\n"],"names":[],"sourceRoot":""}